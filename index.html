<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>index</title>
    <!-- å¤å¤å­—ä½“ -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/loaders/GLTFLoader.js"></script> <!-- GLTF åŠ è½½å™¨ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/examples/js/loaders/GLTFLoader.js"></script>

    <style>
        /* åŸºç¡€æ ·å¼ */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #ffffff;
            overflow: hidden;
            flex-direction: column;
            position: relative;
            margin: 0;
            font-family: 'Press Start 2P', 'Comic Sans MS', 'Verdana', sans-serif;
            font-size: clamp(10px, 1vw, 16px);
        }

        /* æ³¡æ³¡å®¹å™¨ */
        .bubble-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 200;
            /* ğŸ‘ˆ è¿™ä¸ªæ˜¯å…³é”®ï¼æ¯” typing-container æ›´é«˜ */
        }

        /* æ³¡æ³¡è®¾è®¡ */
        .bubble {
            position: absolute;
            width: 8vw;
            max-width: 100px;
            height: 8vw;
            max-height: 100px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: clamp(6px, 1vw, 12px);
            text-align: center;
            color: rgb(252, 252, 255);
            font-weight: bold;
            cursor: pointer;
            padding: 10px;
            box-shadow: 4px 4px 0px #383838;

            /* åŠé€æ˜çš„èƒŒæ™¯è‰² */
            background: rgba(157, 159, 160, 0.5);
            /* èƒŒæ™¯ä¸ºåŠé€æ˜ */

            /* æ·»åŠ ç£¨ç ‚æ•ˆæœ */
            backdrop-filter: blur(5px);

            /* å¤–å‘å…‰æ•ˆæœï¼ˆè¾¹æ¡†æ›¿æ¢ä¸ºå¤–å‘å…‰ï¼‰ */
            box-shadow: 0 0 40px 10px rgba(255, 255, 255, 0.7);
            /* ç™½è‰²å¤–å‘å…‰ */
            transition: all 0.3s ease-in-out;
        }

        /* æ‚¬åœæ•ˆæœ */
        .bubble:hover {
            transform: scale(1.15);
            box-shadow: 5px 5px 0px #666;
            background: rgba(98, 101, 146, 0.8);
            /* æ‚¬åœæ—¶èƒŒæ™¯è‰²å˜åŒ–ï¼Œå¹¶ä¸”ä¿æŒé€æ˜ */
            color: rgb(160, 159, 179);
        }


        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 768px) {
            .bubble {
                width: 14vw;
                height: 14vw;
                font-size: clamp(8px, 2vw, 14px);
            }
        }


        /* ä¸»é¡µä»‹ç» */
        body {
            background-color: #0f0f0f;
            color: #eaeaea;
            font-family: 'Press Start 2P', monospace;
            padding: 50px;
            font-size: 20px;
            line-height: 1.6;
        }

        .typing {
            white-space: pre-line;
        }

        .cursor {
            display: inline-block;
            width: 10px;
            animation: blink 1s step-start infinite;
        }

        @keyframes blink {
            50% {
                opacity: 0;
            }
        }

        .typing-container {
            font-size: 20px;
            /* é»˜è®¤ç”µè„‘ç«¯ */
            position: absolute;
            top: 10vh;
            left: 10vw;
            z-index: 10;
            max-width: 80vw;
            color: #eaeaea;
            font-family: 'Press Start 2P', monospace;
            text-shadow: 2px 2px 2px rgba(0, 0, 0, 0.8);
            font-size: 20px;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .typing-container {
                font-size: 14px;
                /* æ‰‹æœºç«¯ */
            }
        }

        /* æ³¡æ³¡é¢œè‰²éšæ—¶é—´è½»å¾®æ³¢åŠ¨ */
        @keyframes floatPulse {

            0%,
            100% {
                background: linear-gradient(120deg,
                        rgba(138, 135, 135, 0.4),
                        rgba(114, 115, 115, 0.5),
                        rgba(255, 255, 255, 0.4));
            }

            50% {
                background: rgba(180, 182, 200, 0.6);
            }
        }

        .bubble {
            animation: floatPulse 6s ease-in-out infinite;
        }
    </style>
</head>

<body>

    <div class="typing-container">
        <div class="typing" id="typewriter"></div><span class="cursor">|</span>

        <script>
            const text = `Building...\na share site with no space, no time limits,\na place to connect with friends and strangers.\na drifting psychic device.\nIt can be infected, parasitized, layered.\nThis is a place for dreaming.\n\nan unstable psychic apparatus.\nPerception is being reorganized.\nDream is the only real.`;

            let i = 0;
            const speed = 40; // ä¸»é¡µä»‹ç»
            const typewriter = document.getElementById("typewriter");

            function typeText() {
                if (i < text.length) {
                    typewriter.textContent += text.charAt(i);
                    i++;
                    setTimeout(typeText, speed);
                }
            }

            typeText();
        </script>
    </div>


    <div class="bubble-container">
        <div class="bubble" onclick="navigateTo('dream')">dream</div>
        <div class="bubble" onclick="navigateTo('qq_space')">qq space</div>
        <div class="bubble" onclick="navigateTo('Daydream')">daydream chat</div>
    </div>


    <script>
        function navigateTo(page) {
            window.location.href = `${page}.html`;
        }

        // è®©æ³¡æ³¡åœ¨ç½‘é¡µä¸Šéšæœºè¿åŠ¨å¹¶ç¢°å£åå¼¹
        document.addEventListener("DOMContentLoaded", function () {
            const bubbles = document.querySelectorAll('.bubble');
            const container = document.querySelector('.bubble-container');

            bubbles.forEach(bubble => {
                // éšæœºåˆå§‹ä½ç½®
                let x = Math.random() * (window.innerWidth - 100);
                let y = Math.random() * (window.innerHeight - 100);
                let speedX = (Math.random() - 0.5) * 2; // é€Ÿåº¦èŒƒå›´ -1 åˆ° 1
                let speedY = (Math.random() - 0.5) * 2;


                bubble.style.left = `${x}px`;
                bubble.style.top = `${y}px`;

                function moveBubble() {
                    x += speedX;
                    y += speedY;

                    // ç¢°åˆ°å·¦å³å¢™å£åå¼¹
                    if (x <= 0 || x + bubble.offsetWidth >= window.innerWidth) {
                        speedX *= -1; // åè½¬æ–¹å‘
                    }
                    // ç¢°åˆ°ä¸Šä¸‹è¾¹ç•Œåå¼¹
                    if (y <= 0 || y + bubble.offsetHeight >= window.innerHeight) {
                        speedY *= -1;
                    }

                    bubble.style.left = `${x}px`;
                    bubble.style.top = `${y}px`;

                    requestAnimationFrame(moveBubble);
                }

                moveBubble();
            });
        });
    </script>

    <script>
        // æŠŠthree.js æŒ¤æ‰äº†
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio); // æ›´æ¸…æ™°æ˜¾ç¤º
        renderer.domElement.style.position = 'absolute'; // ğŸ‘ˆ ç¡®ä¿æ˜¯ç»å¯¹å®šä½
        renderer.domElement.style.top = '0';
        renderer.domElement.style.left = '0';
        renderer.domElement.style.zIndex = '0'; // ç¡®ä¿åœ¨æœ€åº•å±‚
        document.body.appendChild(renderer.domElement);


        // åˆå§‹åŒ– Three.js åœºæ™¯
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // ğŸŒ æ·»åŠ å…‰ç…§ï¼ˆGLTF éœ€è¦å…‰ç…§ï¼‰
        const ambientLight = new THREE.AmbientLight(0xffffff, 1); // ç¯å¢ƒå…‰
        scene.add(ambientLight);
        const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
        directionalLight.position.set(5, 10, 7);
        scene.add(directionalLight);


        // ğŸ¯ åŠ è½½ GLB æ¨¡å‹
        const loader = new THREE.GLTFLoader();
        let model; // åœ¨åŠ è½½ä¹‹å‰å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡

        loader.load('key.glb', function (gltf) {
            model = gltf.scene;

            model.traverse((child) => {
                if (child.isMesh) {
                    child.material.transparent = false;
                    child.material.opacity = 1;
                }
            });

            const box = new THREE.Box3().setFromObject(model);
            const center = new THREE.Vector3();
            box.getCenter(center);
            model.position.sub(center);

            const pointLight = new THREE.PointLight(0xffffff, 10);
            pointLight.position.set(0, 5, 0);
            scene.add(pointLight);

            model.position.set(0, 0, 0);
            model.scale.set(10, 10, 10);

            scene.add(model);
            console.log("âœ… Model Loaded:", model);
            animate();
        }, undefined, function (error) {
            console.error("âŒ GLB åŠ è½½å¤±è´¥:", error);
        });

        function animate() {
            requestAnimationFrame(animate);

            // å¦‚æœæ¨¡å‹å·²åŠ è½½ï¼Œå°†å…¶æ—‹è½¬
            if (model) {
                model.rotation.y += 0.01; // æ¯å¸§ç»• Y è½´æ—‹è½¬ 0.01 å¼§åº¦
            }

            renderer.render(scene, camera);
        }

        // ğŸ”„ ç›‘å¬çª—å£å¤§å°è°ƒæ•´
        window.addEventListener('resize', () => {
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
        });</script>



</body>

</html>
