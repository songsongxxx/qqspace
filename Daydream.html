<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Daydream Chat</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      font-size: clamp(10px, 1.2vw, 16px);
    }

    body {
      font-family: 'Press Start 2P', monospace;
      background-color: #f5f5f5;
      color: #333;
      display: flex;
      flex-direction: row;
      height: 100vh;
      font-size: 1rem;
    }

    .poem-section {
      flex: 4;
      padding: 40px;
      overflow-y: auto;
      background: #fff;
    }

    .typing-container input {
      border: 1px dashed #999;
      padding: 2px 4px;
      font-family: 'Press Start 2P';
      font-size: 10px;
      width: 100px;
      margin: 2px;
    }

    .typing-container button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 0.8rem;
      font-family: 'Press Start 2P';
      background-color: #eee;
      border: 2px solid #444;
      cursor: pointer;
    }

    .chat-sidebar {
      flex: 1;
      background-color: #ecf2f7;
      border-right: 3px solid #888;
      display: flex;
      flex-direction: column;
      padding: 2rem;
      overflow-y: auto;
    }

    .chat-sidebar h2 {
      padding: 20px;
      font-size: 1rem;
      margin-bottom: 10px;
    }

    .friend {
      background-color: #fff;
      border: 2px solid #444;
      margin-bottom: 0.75rem;
      padding: 0.75rem;
      border-radius: 0.5rem;
      box-shadow: 2px 2px 0 #888;
      font-size: 0.7rem;
      white-space: pre-line;
    }
  </style>
</head>

<body>
  <div class="chat-sidebar">
    <h2>Friends Online</h2>
    <div id="friendList"></div>
  </div>

  <div class="poem-section">
    <h1>A guide for sculpting what cannot be named</h1>
    <div class="typing-container">
      <p>This is a world of <input id="b1" />.<br />
        Not because its creatures are invisible, but because <input id="b2" /> is never fixed—<br />
        it slides, softens, and turns within the folds of time.<br />
        Their bodies feel like sensations, or the memory of a form that may have once existed.<br />
        In the corner of a room, in the gaps between forgotten dust, something begins to stir.<br />
        A <input id="b3" /> that cannot be remembered is slowly forming.<br />
        You begin from what you believe is familiar: perhaps a structure made of <input id="b4" />,<br />
        it may <input id="b5" />, or it may also <input id="b6" />.<br />
        Its surface resembles <input id="b7" />, and within time it continues to <input id="b8" />.<br />
        But soon, it will move beyond your understanding—<br />
        it might split into another version of itself,<br />
        or collapse into endless folds,<br />
        or emit an echo from within, though no sound can be heard.<br />
        It does not exist in order to survive, but to <input id="b9" />.
      </p>
      <button onclick="submitPoem()">Submit</button>
    </div>
  </div>

  <script>

    function submitPoem() {

    console.log("🚀 准备发送数据！");

    const formData = new FormData();
    formData.append('entry.1337640561', document.getElementById('b1').value);
    formData.append('entry.92386776', document.getElementById('b2').value);
    formData.append('entry.1122794289', document.getElementById('b3').value);
    formData.append('entry.895074014', document.getElementById('b4').value);
    formData.append('entry.1429670293', document.getElementById('b5').value);
    formData.append('entry.597940394', document.getElementById('b6').value);
    formData.append('entry.1337463375', document.getElementById('b7').value);
    formData.append('entry.824810926', document.getElementById('b8').value);
    formData.append('entry.1131995474', document.getElementById('b9').value);

    fetch('https://docs.google.com/forms/d/e/1FAIpQLSd6Ah71JE9D-0SWYAhTBVEjUQTeMklL69DVlxNfDmF16UiE1A/formResponse', 


    {
      method: 'POST',
      mode: 'no-cors',
      body: formData
    }).then(() => {
      alert("✅ 提交成功！");
    }).catch(err => {
      console.error("❌ 提交失败", err);
    });
  }




  const SHEET_API_URL = 'https://script.google.com/macros/s/AKfycbzpQ8vTe8IBofsIog4TLZThhzReBvyb5SxZTqeYJSwUJW9jRo-AOUR4SZZxMWEggiud/exec'; // 用你刚刚部署的链接

function loadFriends() {
  fetch(SHEET_API_URL)
    .then(res => res.json())
    .then(data => {
      const container = document.getElementById('friendList');
      container.innerHTML = '';
      data.forEach(entry => {
        const poem = `This is a world of ${entry.b1}.
Not because its creatures are invisible, but because ${entry.b2} is never fixed—
it slides, softens, and turns within the folds of time.
Their bodies feel like sensations, or the memory of a form that may have once existed.
In the corner of a room, in the gaps between forgotten dust, something begins to stir.
A ${entry.b3} that cannot be remembered is slowly forming.
You begin from what you believe is familiar: perhaps a structure made of ${entry.b4},
it may ${entry.b5}, or it may also ${entry.b6}.
Its surface resembles ${entry.b7}, and within time it continues to ${entry.b8}.
But soon, it will move beyond your understanding—
it might split into another version of itself,
or collapse into endless folds,
or emit an echo from within, though no sound can be heard.
It does not exist in order to survive, but to ${entry.b9}.`;

        const div = document.createElement('div');
        div.className = 'friend';
        div.textContent = poem;
        container.appendChild(div);
      });
    })
    .catch(err => {
      console.error("加载失败", err);
    });
}

window.onload = loadFriends;
  </script>
</body>
</html>